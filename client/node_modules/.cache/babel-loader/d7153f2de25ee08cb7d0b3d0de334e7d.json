{"ast":null,"code":"var _jsxFileName = \"C:\\\\BOOTCAMP\\\\projects\\\\Marvel-Character-Saver\\\\client\\\\src\\\\pages\\\\SavedCharacters.js\";\nimport React from 'react';\nimport { Jumbotron, Container, CardColumns, Card, Button } from 'react-bootstrap';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_ME } from '../utils/queries';\nimport { REMOVE_CHARACTER } from '../utils/mutations';\nimport { removeCharacterId } from '../utils/localStorage';\nimport Auth from '../utils/auth';\n\nconst SavedCharacters = () => {\n  var _userData$savedCharac, _userData$savedCharac2;\n\n  const {\n    loading,\n    data\n  } = useQuery(GET_ME);\n  const [removeCharacter, {\n    error\n  }] = useMutation(REMOVE_CHARACTER);\n  const userData = (data === null || data === void 0 ? void 0 : data.me) || {};\n\n  const handleDeleteCharacter = async characterId => {\n    // get token\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    try {\n      await removeCharacter({\n        variables: {\n          characterId\n        }\n      });\n      removeCharacterId(characterId);\n    } catch (err) {\n      console.error(err);\n    }\n  }; // if data isn't here yet, say so\n\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, \"LOADING...\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Jumbotron, {\n    fluid: true,\n    className: \"text-light bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"Viewing \", userData.username, \"'s saved characters!\"))), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, ((_userData$savedCharac = userData.savedCharacters) === null || _userData$savedCharac === void 0 ? void 0 : _userData$savedCharac.length) ? `Viewing ${userData.savedCharacters.length} saved ${userData.savedCharacters.length === 1 ? 'character' : 'characters'}:` : 'You have no saved characters!'), /*#__PURE__*/React.createElement(CardColumns, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, (_userData$savedCharac2 = userData.savedCharacters) === null || _userData$savedCharac2 === void 0 ? void 0 : _userData$savedCharac2.map(character => {\n    return /*#__PURE__*/React.createElement(Card, {\n      key: character.characterId,\n      border: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, character.characterImagePath + character.characterImageExt ? /*#__PURE__*/React.createElement(Card.Img, {\n      src: character.characterImagePath + character.characterImageExt,\n      alt: `${character.characterName}`,\n      variant: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    }) : null, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, character.characterName), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    }, character.characterDescription), /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-block btn-danger\",\n      onClick: () => handleDeleteCharacter(character.characterId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, \"SHOOT this Character!\"), error && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, \"Something went wrong...\")));\n  }))));\n};\n\nexport default SavedCharacters;","map":{"version":3,"names":["React","Jumbotron","Container","CardColumns","Card","Button","useQuery","useMutation","GET_ME","REMOVE_CHARACTER","removeCharacterId","Auth","SavedCharacters","loading","data","removeCharacter","error","userData","me","handleDeleteCharacter","characterId","token","loggedIn","getToken","variables","err","console","username","savedCharacters","length","map","character","characterImagePath","characterImageExt","characterName","characterDescription"],"sources":["C:/BOOTCAMP/projects/Marvel-Character-Saver/client/src/pages/SavedCharacters.js"],"sourcesContent":["import React from 'react';\r\nimport { Jumbotron, Container, CardColumns, Card, Button } from 'react-bootstrap';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { GET_ME } from '../utils/queries';\r\nimport { REMOVE_CHARACTER } from '../utils/mutations';\r\nimport { removeCharacterId } from '../utils/localStorage';\r\nimport Auth from '../utils/auth';\r\n\r\nconst SavedCharacters = () => {\r\n  const { loading, data } = useQuery(GET_ME);\r\n  const [removeCharacter, { error }] = useMutation(REMOVE_CHARACTER);\r\n\r\n  const userData = data?.me || {};\r\n\r\n  const handleDeleteCharacter = async (characterId) => {\r\n    // get token\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      await removeCharacter({\r\n        variables: { characterId },\r\n      });\r\n\r\n      removeCharacterId(characterId);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // if data isn't here yet, say so\r\n  if (loading) {\r\n    return <h2>LOADING...</h2>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className='text-light bg-dark'>\r\n        <Container>\r\n          <h1>Viewing {userData.username}'s saved characters!</h1>\r\n        </Container>\r\n      </Jumbotron>\r\n      <Container>\r\n        <h2>\r\n          {userData.savedCharacters?.length\r\n            ? `Viewing ${userData.savedCharacters.length} saved ${\r\n                userData.savedCharacters.length === 1 ? 'character' : 'characters'\r\n              }:`\r\n            : 'You have no saved characters!'}\r\n        </h2>\r\n        <CardColumns>\r\n          {userData.savedCharacters?.map((character) => {\r\n            return (\r\n              <Card key={character.characterId} border='dark'>\r\n                {character.characterImagePath+character.characterImageExt ? (\r\n                  <Card.Img src={character.characterImagePath+character.characterImageExt} alt={`${character.characterName}`} variant='top' />\r\n                ) : null}\r\n                <Card.Body>\r\n                  <Card.Title>{character.characterName}</Card.Title>\r\n                  <Card.Text>{character.characterDescription}</Card.Text>\r\n                  <Button\r\n                    className='btn-block btn-danger'\r\n                    onClick={() => handleDeleteCharacter(character.characterId)}>\r\n                    SHOOT this Character!\r\n                  </Button>\r\n                  {error && <span className=\"ml-2\">Something went wrong...</span>}\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SavedCharacters;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}